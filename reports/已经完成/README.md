# 报告文档存放规范

**生效时间**: 2025-11-11  
**规范版本**: v1.0

---

## 一、报告存放位置

### 1.1 默认位置

**所有报告文档（无特别说明时）统一存放在 `reports/` 文件夹**

- **路径**: `F:\OFICVD\reports\`
- **格式**: Markdown (`.md`) 或 JSON (`.json`)
- **命名规范**: 使用描述性文件名，建议使用大写字母和连字符

### 1.2 例外情况

以下类型的报告可能存放在其他位置：

1. **回测详细报告**: `runtime/backtest/<run_id>/` - 回测运行时的详细报告
2. **优化器Trial报告**: `runtime/optimizer/<stage>/trial_<id>/` - 参数优化的trial级别报告
3. **临时测试报告**: `runtime/reports/` - 临时测试或调试报告（可后续整理到 `reports/`）

---

## 二、报告分类

### 2.1 任务报告

- **格式**: `TASK-<编号>-<描述>.md`
- **示例**: 
  - `TASK-09-优化组总报告.md`
  - `TASK-09-A组优化报告.md`
  - `TASK-09-B组优化报告.md`

### 2.2 阶段报告

- **格式**: `STAGE<编号>-<描述>.md`
- **示例**:
  - `STAGE1-下一步优化方案.md`
  - `STAGE2-优化执行报告.md`

### 2.3 测试报告

- **格式**: `<测试类型>-<描述>.md`
- **示例**:
  - `单元测试-优化器评分函数.md`
  - `集成测试-双Sink等价性.md`

### 2.4 日常报告

- **格式**: `daily/<日期>-<描述>.md`
- **示例**:
  - `daily/2025-11-11-优化进展.md`

---

## 三、报告命名规范

### 3.1 基本规则

1. **使用描述性名称**: 文件名应清晰描述报告内容
2. **使用连字符分隔**: 避免使用空格或下划线
3. **使用中文或英文**: 根据项目需要选择，保持一致性
4. **包含日期（如需要）**: 对于定期报告，可在文件名中包含日期

### 3.2 命名示例

**好的命名**:
- `TASK-09-优化组总报告.md`
- `STAGE1-下一步优化方案.md`
- `单元测试-优化器评分函数报告.md`

**不好的命名**:
- `report.md` (太泛泛)
- `task09 report.md` (包含空格)
- `task09_report.md` (使用下划线，不一致)

---

## 四、报告内容规范

### 4.1 报告头部

每个报告应包含以下头部信息：

```markdown
# 报告标题

**生成时间**: YYYY-MM-DD  
**报告版本**: v1.0  
**基于报告**: [相关报告链接](./其他报告.md)（如适用）  
**目标**: 报告目标或背景（如适用）
```

### 4.2 报告结构

建议的报告结构：

1. **执行摘要** - 核心发现和结论
2. **当前状态分析** - 现状分析
3. **问题分析** - 发现的问题
4. **解决方案** - 提出的解决方案
5. **实施计划** - 具体的实施步骤
6. **预期结果** - 预期效果
7. **风险评估** - 潜在风险和缓解措施
8. **后续行动** - 下一步行动
9. **文件清单** - 相关文件列表

---

## 五、报告维护

### 5.1 版本管理

- 报告更新时，更新"报告版本"和"生成时间"
- 重大更新时，创建新版本文件（如 `报告名_v2.md`）

### 5.2 归档

- 过时的报告可以移动到 `reports/archive/` 目录
- 保留历史版本，便于追溯

### 5.3 链接管理

- 报告之间的引用使用相对路径
- 确保链接的有效性

---

## 六、迁移计划

### 6.1 现有报告

以下位置的报告可以保留在原位置，或根据需要迁移到 `reports/`:

- `runtime/reports/` - 临时测试报告，可根据需要迁移
- `runtime/backtest/<run_id>/` - 回测详细报告，保留在原位置
- `runtime/optimizer/<stage>/` - 优化器报告，保留在原位置

### 6.2 新报告

**自2025-11-11起，所有新生成的报告（无特别说明）统一存放在 `reports/` 文件夹**

---

## 七、相关文件

### 7.1 报告模板

- 报告模板可参考 `reports/TASK-09-优化组总报告.md`

### 7.2 脚本更新

以下脚本可能需要更新报告输出路径（根据实际需要）：

- `scripts/check_gate_distribution_sqlite.py`
- `scripts/collect_gate_stats.py`
- `scripts/run_gate_trigger_tests.py`
- `scripts/check_guard_reason_content.py`
- `scripts/audit_alignment.py`
- `scripts/check_jsonl_sqlite_consistency.py`
- `scripts/check_activity_injection.py`
- `scripts/compare_ab_groups.py`
- `scripts/run_experiment_matrix.py`

**注意**: 脚本更新不是强制性的，可以根据实际需要逐步迁移。

---

**规范制定时间**: 2025-11-11  
**规范版本**: v1.0  
**规范作者**: Cursor AI Assistant

