# -*- coding: utf-8 -*-
# Gating Experiment - IGNORE_SOFT Mode (探索版)
# 忽略软护栏（weak_signal, low_consistency），但保留硬护栏保护

signal:
  sink: jsonl
  output_dir: ./runtime
  replay_mode: 1

  # 信号生成参数 - 与生产环境一致
  weak_signal_threshold: 0.20
  consistency_min: 0.15
  consistency_min_per_regime:
    active: 0.18
    quiet: 0.12

  min_abs_score_for_side: 0.0
  thresholds:
    active:
      buy: 0.4
      sell: -0.4

components:
  fusion:
    w_ofi: 0.6
    w_cvd: 0.4
    adaptive_cooldown_k: 0.6
    flip_rearm_margin: 0.05
    min_consecutive: 3
  cvd:
    winsor_limit: 2.0

strategy:
  mode: active
  direction: both
  entry_threshold: 0.0
  exit_threshold: 0.0

execution:
  cooldown_ms: 500

risk:
  max_position_notional: 10000
  max_drawdown_bps: 2000
  gates:
    max_spread_bps: 2.5
    max_lag_sec: 0.5
    require_activity: true

data:
  features_price_dir: "deploy/data/ofi_cvd"

backtest:
  taker_fee_bps: 2.0
  slippage_bps: 1.0
  notional_per_trade: 1000
  reverse_on_signal: false
  rollover_timezone: "UTC"
  rollover_hour: 0
  slippage_model: "static"
  fee_model: "taker_static"
