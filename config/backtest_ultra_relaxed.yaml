# -*- coding: utf-8 -*-
# 极宽松配置 - 用于验证CoreAlgorithm的confirm机制是否正常工作
# TASK-G1: 一致性阈值调参 & gating QA - 验证阶段

signal:
  sink: jsonl
  output_dir: ./runtime
  replay_mode: 1

  # 极宽松参数 - 用于验证confirm机制
  weak_signal_threshold: 0.0  # 设为0，完全不拦截弱信号
  consistency_min: 0.0        # 设为0，完全不拦截一致性
  consistency_min_per_regime:
    active: 0.0
    quiet: 0.0

  min_abs_score_for_side: 0.0
  thresholds:
    active:
      buy: 0.4
      sell: -0.4

components:
  fusion:
    w_ofi: 0.6
    w_cvd: 0.4
    adaptive_cooldown_k: 0.6
    flip_rearm_margin: 0.05
    min_consecutive: 3
  cvd:
    winsor_limit: 2.0

strategy:
  mode: active
  direction: both
  entry_threshold: 0.0
  exit_threshold: 0.0

execution:
  cooldown_ms: 500

risk:
  max_position_notional: 10000
  max_drawdown_bps: 2000
  gates:
    max_spread_bps: 2.5
    max_lag_sec: 0.5
    require_activity: true

data:
  features_price_dir: "deploy/data/ofi_cvd"

backtest:
  taker_fee_bps: 2.0
  slippage_bps: 1.0
  notional_per_trade: 1000
  reverse_on_signal: false
  rollover_timezone: "UTC"
  rollover_hour: 0
  slippage_model: "static"
  fee_model: "taker_static"
